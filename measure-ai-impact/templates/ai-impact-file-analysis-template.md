# AI Impact Analysis - File Level

**Generated**: {{timestamp}}
**Repository**: {{repository_path}}
**Baseline**: {{baseline_reference}} ({{baseline_date}})
**Analysis Date**: {{current_date}}

---

## Executive Summary

- **Files Analyzed**: {{total_files}}
- **AI Signatures Detected**: {{ai_detected_count}} ({{ai_detection_percentage}}%)
- **Overall Confidence**: {{overall_confidence}}
- **Analysis Method**: Halstead Metrics + Maintainability Index

### Key Findings
{{#findings}}
- {{finding_description}}
{{/findings}}

---

## Per-File Analysis

{{#files}}
### File: `{{file_path}}`

**AI Likelihood**: {{ai_likelihood_score}} ({{ai_confidence_label}})

**Detection Indicators**:
{{#indicators}}
- ✓ {{indicator_name}}: {{indicator_description}}
{{/indicators}}

**Metrics Comparison** (Baseline → Current):

| Metric | Before | After | Change | Impact |
|--------|--------|-------|--------|--------|
| Maintainability Index | {{mi_before}} | {{mi_after}} | {{mi_change}} | {{mi_impact}} |
| Cyclomatic Complexity | {{cc_before}} | {{cc_after}} | {{cc_change}} | {{cc_impact}} |
| Halstead Difficulty | {{difficulty_before}} | {{difficulty_after}} | {{difficulty_change}} | {{difficulty_impact}} |
| Halstead Effort | {{effort_before}} | {{effort_after}} | {{effort_change}} | {{effort_impact}} |
| LOC | {{loc_before}} | {{loc_after}} | {{loc_change}} | {{loc_impact}} |

**Interpretation**:
{{interpretation_text}}

**Code Changes Summary**:
- Lines added: {{lines_added}}
- Lines deleted: {{lines_deleted}}
- Net change: {{net_change}}
- Commits: {{commit_count}}

---

{{/files}}

## AI Detection Patterns Explained

### Patterns Used for Detection:

1. **MI_JUMP_SIGNIFICANT** (Maintainability Index increase >20 points)
   - Indicates substantial code quality improvement
   - Common when AI refactors complex code

2. **DIFFICULTY_DROP_MAJOR** (Halstead Difficulty decrease >30%)
   - Code became significantly easier to understand
   - Typical of AI-assisted simplification

3. **EFFORT_REDUCTION** (Halstead Effort reduction >50%)
   - Mental effort to understand/modify code reduced dramatically
   - Strong indicator of AI-driven optimization

4. **CC_IMPROVEMENT** (Cyclomatic Complexity reduction)
   - Fewer decision points, simpler logic flow
   - Often results from AI-suggested refactoring

### Confidence Levels:

- **High** (0.75-1.0): Multiple strong indicators present, very likely AI-assisted
- **Medium** (0.50-0.74): Some indicators present, possibly AI-assisted
- **Low** (0.25-0.49): Weak indicators, uncertain
- **None** (0.0-0.24): No significant AI signatures detected

---

## Aggregate Statistics

### Repository-Wide Impact

| Category | Value |
|----------|-------|
| Total files analyzed | {{total_files}} |
| Files with AI signatures | {{files_with_ai}} |
| Average MI improvement | {{avg_mi_improvement}} |
| Average complexity reduction | {{avg_cc_reduction}} |
| Total LOC impacted | {{total_loc_changed}} |

### Quality Trend

{{quality_trend_visualization}}

```
Maintainability Index Distribution:
Before: [====                ] {{mi_avg_before}}
After:  [=============       ] {{mi_avg_after}}
```

---

## Recommendations

### High-Confidence AI-Improved Files
{{#high_confidence_files}}
- `{{file_path}}` - {{recommendation}}
{{/high_confidence_files}}

### Suggested Next Targets for AI Assistance
{{#suggested_targets}}
- `{{file_path}}` - Current MI: {{current_mi}} - Complexity: {{current_cc}}
{{/suggested_targets}}

### Best Practices Observed
{{#best_practices}}
- {{practice_description}}
{{/best_practices}}

---

## Methodology Notes

- **Baseline Collection**: Metrics extracted from Git commit {{baseline_commit}} ({{baseline_date}})
- **Current Metrics**: Analyzed working directory state as of {{analysis_timestamp}}
- **Tools Used**: 
  - `ai_impact_analyzer.py` - AI signature detection
  - Radon library - Halstead metrics and Cyclomatic Complexity
- **Limitations**:
  - Detection based on statistical patterns, not definitive proof
  - Requires sufficient baseline data (6+ months recommended)
  - Language support: Python (full), other languages (partial)

---

**Generated by**: OLAF measure-ai-impact skill
**Report Type**: File-Level AI Detection

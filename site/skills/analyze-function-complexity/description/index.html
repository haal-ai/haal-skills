<!DOCTYPE html>
<html lang="en" data-bs-theme="light">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        
        
        
        <link rel="shortcut icon" href="../../../img/favicon.ico">
        <title>Analyze Function Complexity - HAAL Skills</title>
        <link href="../../../css/bootstrap.min.css" rel="stylesheet">
        <link href="../../../css/fontawesome.min.css" rel="stylesheet">
        <link href="../../../css/brands.min.css" rel="stylesheet">
        <link href="../../../css/solid.min.css" rel="stylesheet">
        <link href="../../../css/v4-font-face.min.css" rel="stylesheet">
        <link href="../../../css/base.css" rel="stylesheet">
        <link id="hljs-light" rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/styles/github.min.css" >
        <link id="hljs-dark" rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/styles/github-dark.min.css" disabled>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/highlight.min.js"></script>
        <script>hljs.highlightAll();</script> 
    </head>

    <body>
        <div class="navbar fixed-top navbar-expand-lg navbar-dark bg-primary">
            <div class="container">
                <a class="navbar-brand" href="../../..">HAAL Skills</a>
                <!-- Expander button -->
                <button type="button" class="navbar-toggler" data-bs-toggle="collapse" data-bs-target="#navbar-collapse" aria-controls="navbar-collapse" aria-expanded="false" aria-label="Toggle navigation">
                    <span class="navbar-toggler-icon"></span>
                </button>

                <!-- Expanded navigation -->
                <div id="navbar-collapse" class="navbar-collapse collapse">
                        <!-- Main navigation -->
                        <ul class="nav navbar-nav">
                            <li class="nav-item">
                                <a href="../../.." class="nav-link">Home</a>
                            </li>
                            <li class="nav-item">
                                <a href="../../" class="nav-link">Skills</a>
                            </li>
                        </ul>

                    <ul class="nav navbar-nav ms-md-auto">
                        <li class="nav-item">
                            <a href="#" class="nav-link" data-bs-toggle="modal" data-bs-target="#mkdocs_search_modal">
                                <i class="fa fa-search"></i> Search
                            </a>
                        </li>
                            <li class="nav-item">
                                <a href="https://github.com/haal-ai/haal-skills/edit/master/docs/skills/analyze-function-complexity/description.md" class="nav-link">Edit on haal-ai/haal-skills
                                    </a>
                            </li>
                    </ul>
                </div>
            </div>
        </div>

        <div class="container">
            <div class="row">
                    <div class="col-md-3"><div class="navbar-expand-md bs-sidebar hidden-print affix" role="complementary">
    <div class="navbar-header">
        <button type="button" class="navbar-toggler collapsed" data-bs-toggle="collapse" data-bs-target="#toc-collapse" title="Table of Contents">
            <span class="fa fa-angle-down"></span>
        </button>
    </div>

    
    <div id="toc-collapse" class="navbar-collapse collapse card bg-body-tertiary">
        <ul class="nav flex-column">
            
            <li class="nav-item" data-bs-level="1"><a href="#analyze-function-complexity" class="nav-link">Analyze Function Complexity</a>
              <ul class="nav flex-column">
            <li class="nav-item" data-bs-level="2"><a href="#overview" class="nav-link">Overview</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            <li class="nav-item" data-bs-level="2"><a href="#purpose" class="nav-link">Purpose</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            <li class="nav-item" data-bs-level="2"><a href="#usage" class="nav-link">Usage</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            <li class="nav-item" data-bs-level="2"><a href="#parameters" class="nav-link">Parameters</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            <li class="nav-item" data-bs-level="2"><a href="#output" class="nav-link">Output</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            <li class="nav-item" data-bs-level="2"><a href="#examples" class="nav-link">Examples</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            <li class="nav-item" data-bs-level="2"><a href="#related-competencies" class="nav-link">Related Competencies</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            <li class="nav-item" data-bs-level="2"><a href="#tips-best-practices" class="nav-link">Tips &amp; Best Practices</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            <li class="nav-item" data-bs-level="2"><a href="#limitations" class="nav-link">Limitations</a>
              <ul class="nav flex-column">
              </ul>
            </li>
              </ul>
            </li>
        </ul>
    </div>
</div></div>
                    <div class="col-md-9" role="main">

<h1 id="analyze-function-complexity">Analyze Function Complexity<a class="headerlink" href="#analyze-function-complexity" title="Permanent link">&para;</a></h1>
<h2 id="overview">Overview<a class="headerlink" href="#overview" title="Permanent link">&para;</a></h2>
<p>This competency performs in-depth analysis of individual functions or methods, calculating cyclomatic complexity metrics, evaluating code structure, and providing actionable recommendations for improving maintainability and testability.</p>
<h2 id="purpose">Purpose<a class="headerlink" href="#purpose" title="Permanent link">&para;</a></h2>
<p>Complex functions are harder to understand, test, and maintain, leading to increased bug rates and slower development velocity. This competency identifies complexity hotspots by analyzing decision points, nesting depth, and code structure, then provides specific guidance for reducing complexity while preserving functionality.</p>
<h2 id="usage">Usage<a class="headerlink" href="#usage" title="Permanent link">&para;</a></h2>
<p><strong>Command</strong>: <code>analyze function complexity</code> (or aliases: <code>analyze complexity</code>, <code>function complexity</code>, <code>complexity analysis</code>)</p>
<p><strong>Protocol</strong>: Act</p>
<p><strong>When to Use</strong>: Use when you need to understand why a specific function is difficult to work with, establish complexity baselines before refactoring, prioritize technical debt reduction, or validate that refactoring efforts have reduced complexity.</p>
<h2 id="parameters">Parameters<a class="headerlink" href="#parameters" title="Permanent link">&para;</a></h2>
<h3 id="required-inputs">Required Inputs<a class="headerlink" href="#required-inputs" title="Permanent link">&para;</a></h3>
<ul>
<li><strong>function_name</strong>: Name of the function to analyze</li>
<li><strong>file_path</strong>: Path to the file containing the function (optional if workspace search is acceptable)</li>
<li><strong>language</strong>: Programming language (auto-detected if file_path provided)</li>
</ul>
<h3 id="optional-inputs">Optional Inputs<a class="headerlink" href="#optional-inputs" title="Permanent link">&para;</a></h3>
<ul>
<li><strong>context</strong>: Additional information about the function's purpose or constraints</li>
<li><strong>target_complexity</strong>: Desired complexity threshold (default: &lt;10)</li>
</ul>
<h3 id="context-requirements">Context Requirements<a class="headerlink" href="#context-requirements" title="Permanent link">&para;</a></h3>
<ul>
<li>Access to source code containing the target function</li>
<li>Syntactically valid code</li>
<li>Understanding of the function's role in the system helps contextualize staging</li>
</ul>
<h2 id="output">Output<a class="headerlink" href="#output" title="Permanent link">&para;</a></h2>
<p>Generates a comprehensive function complexity analysis report with metrics and recommendations.</p>
<p><strong>Deliverables</strong>:
- Function signature and metadata extraction
- Cyclomatic complexity score calculation
- Decision point breakdown by type (conditionals, loops, switches, logical operators)
- Nesting depth analysis
- Risk assessment using industry-standard thresholds
- Code quality indicators (readability, maintainability, testability scores)
- Dependency and coupling analysis
- Specific, actionable refactoring recommendations
- Test coverage recommendations based on complexity</p>
<p><strong>Format</strong>: Structured markdown report using the function-complexity-analysis template</p>
<h2 id="examples">Examples<a class="headerlink" href="#examples" title="Permanent link">&para;</a></h2>
<h3 id="example-1-pre-refactoring-assessment">Example 1: Pre-Refactoring Assessment<a class="headerlink" href="#example-1-pre-refactoring-assessment" title="Permanent link">&para;</a></h3>
<p><strong>Scenario</strong>: A function has become difficult to test and maintain over time</p>
<p><strong>Command</strong>:</p>
<pre><code>analyze function complexity
</code></pre>
<p><strong>Input</strong>:</p>
<pre><code>function_name: calculateShippingCost
file_path: src/shipping/calculator.ts
</code></pre>
<p><strong>Result</strong>: Report showed complexity of 16 (high risk), identified 8 nested conditionals, recommended extracting 4 helper functions, and provided specific line ranges for extraction.</p>
<h3 id="example-2-validating-refactoring-success">Example 2: Validating Refactoring Success<a class="headerlink" href="#example-2-validating-refactoring-success" title="Permanent link">&para;</a></h3>
<p><strong>Scenario</strong>: After refactoring, verify that complexity has been reduced</p>
<p><strong>Command</strong>:</p>
<pre><code>analyze complexity
</code></pre>
<p><strong>Input</strong>:</p>
<pre><code>function_name: calculateShippingCost
file_path: src/shipping/calculator.ts
</code></pre>
<p><strong>Result</strong>: Confirmed complexity reduced from 16 to 7, nesting depth decreased from 4 to 2, maintainability score improved from 45 to 78.</p>
<h2 id="related-competencies">Related Competencies<a class="headerlink" href="#related-competencies" title="Permanent link">&para;</a></h2>
<ul>
<li><strong>improve-cyclomatic-complexity</strong>: Follow-up competency that implements the refactoring recommendations from this analysis</li>
<li><strong>review-code</strong>: Broader code review that includes complexity assessment among other quality checks</li>
<li><strong>fix-code-smells</strong>: Addresses complexity as one type of code smell</li>
<li><strong>evolve-code-iteratively</strong>: Iterative improvement approach that can incorporate complexity reduction</li>
</ul>
<h2 id="tips-best-practices">Tips &amp; Best Practices<a class="headerlink" href="#tips-best-practices" title="Permanent link">&para;</a></h2>
<ul>
<li>Analyze functions before refactoring to establish measurable success criteria</li>
<li>Prioritize functions with complexity &gt;15 for immediate attention</li>
<li>Use the decision point breakdown to identify extraction opportunities</li>
<li>Consider domain complexity vs. accidental complexity when evaluating results</li>
<li>Combine with unit test analysis to ensure safe refactoring</li>
<li>Re-analyze after refactoring to validate improvements</li>
<li>Track complexity trends across the codebase to identify systemic issues</li>
</ul>
<h2 id="limitations">Limitations<a class="headerlink" href="#limitations" title="Permanent link">&para;</a></h2>
<ul>
<li>Measures syntactic complexity, not semantic or domain complexity</li>
<li>Cannot determine if complexity is justified by business requirements</li>
<li>Requires valid, parseable code</li>
<li>Language-specific idioms may affect accuracy</li>
<li>Does not validate correctness or functionality</li>
<li>Cannot assess runtime performance implications</li>
</ul></div>
            </div>
        </div>

        <footer class="col-md-12">
            <hr>
            <p>Documentation built with <a href="https://www.mkdocs.org/">MkDocs</a>.</p>
        </footer>
        <script src="../../../js/bootstrap.bundle.min.js"></script>
        <script>
            var base_url = "../../..",
                shortcuts = {"help": 191, "next": 78, "previous": 80, "search": 83};
        </script>
        <script src="../../../js/base.js"></script>
        <script src="../../../search/main.js"></script>

        <div class="modal" id="mkdocs_search_modal" tabindex="-1" role="dialog" aria-labelledby="searchModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-lg">
        <div class="modal-content">
            <div class="modal-header">
                <h4 class="modal-title" id="searchModalLabel">Search</h4>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body">
                <p>From here you can search these documents. Enter your search terms below.</p>
                <form>
                    <div class="form-group">
                        <input type="search" class="form-control" placeholder="Search..." id="mkdocs-search-query" title="Type search term here">
                    </div>
                </form>
                <div id="mkdocs-search-results" data-no-results-text="No results found"></div>
            </div>
            <div class="modal-footer">
            </div>
        </div>
    </div>
</div><div class="modal" id="mkdocs_keyboard_modal" tabindex="-1" role="dialog" aria-labelledby="keyboardModalLabel" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <h4 class="modal-title" id="keyboardModalLabel">Keyboard Shortcuts</h4>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body">
              <table class="table">
                <thead>
                  <tr>
                    <th style="width: 20%;">Keys</th>
                    <th>Action</th>
                  </tr>
                </thead>
                <tbody>
                  <tr>
                    <td class="help shortcut"><kbd>?</kbd></td>
                    <td>Open this help</td>
                  </tr>
                  <tr>
                    <td class="next shortcut"><kbd>n</kbd></td>
                    <td>Next page</td>
                  </tr>
                  <tr>
                    <td class="prev shortcut"><kbd>p</kbd></td>
                    <td>Previous page</td>
                  </tr>
                  <tr>
                    <td class="search shortcut"><kbd>s</kbd></td>
                    <td>Search</td>
                  </tr>
                </tbody>
              </table>
            </div>
            <div class="modal-footer">
            </div>
        </div>
    </div>
</div>

    </body>
</html>

# Tell Me Skill

## Overview

**Lightweight knowledge retrieval** that searches existing artifacts before suggesting analysis.

## Features

âœ… **Search-First Approach** - Checks `.olaf/data/product/` and `.olaf/data/practices/` first  
âœ… **Fast Answers** - Returns results from existing docs (no analysis needed)  
âœ… **Smart Fallback** - Suggests which skill to run if no docs found  
âœ… **Source Citations** - Always cites file paths and line numbers  
âŒ **No Generic Knowledge** - Only answers from YOUR repository's artifacts  

## Usage

### Ask About Your Project
```bash
olaf tell me how to build this project
olaf tell me about contributor risk
olaf tell me about coding standards
```

### How It Works

1. **Searches** `.olaf/data/product/{repo}/` for project-specific docs
2. **Searches** `.olaf/data/practices/` for team practices
3. **Returns** synthesized answer with sources
4. **Or suggests** running `olaf onboard-me` or other skills if no docs exist

## Search Locations

```
Priority 1: .olaf/data/product/{repo-name}/  # Generated by onboard-me
Priority 2: .olaf/data/practices/            # Coding standards, guidelines
Priority 3: README.md, CONTRIBUTING.md       # Root documentation
```

## Example Output

### Found in Artifacts
```markdown
# How to Build This Project

Prerequisites: Node.js 18+, npm 9+

Build Steps:
1. npm install
2. npm run build

---
ğŸ“š Source: .olaf/data/product/my-repo/repo-guide.md (lines 45-62)
```

### Not Found - Suggest Skill
```markdown
âŒ No existing documentation found for: "contributor risk"

ğŸ’¡ Suggested Action:
Run `olaf analyze-contributor-risk` to generate this information.
```

## Dependencies

- **onboard-me**: Generates project documentation
- **analyze-contributor-risk**: Generates contributor analysis
- **measure-ai-impact**: Generates AI impact reports

---

**Version**: 2.0.0 (Refactored from FAQ system to search-first retrieval)  
**Protocol**: Act  
**Status**: Active
### FAQ Entry Format

```markdown
### Q: How do I build this project locally?
- **Documentation**: build-and-run.md
- **Prompt**: prompts/document-local-build-process.md
- **Gap Check**: âœ… If build files exist | âš ï¸ If no build config | âŒ If no code
- **Can Answer**: Build files (pom.xml, package.json, Makefile, build.gradle)
```

## Answer Generation Strategies

### Strategy 1: FAQ Match (High Confidence)
1. Load matched FAQ entry
2. Check if artifact exists (`.olaf/data/product/{repo}/kb/{artifact}.md`)
3. If exists: Return existing content
4. If not: Execute associated prompt to generate artifact
5. Format answer with sources

### Strategy 2: KB Synthesis (Fallback)
1. Search all artifact files for keywords
2. Rank by relevance score
3. Extract relevant sections from top 3 artifacts
4. Synthesize combined answer
5. Cite all sources

### Strategy 3: No Answer Available
1. Inform user no match found
2. Show what was tried
3. Suggest alternatives (rephrase, browse FAQ, run onboarding)
4. List available documentation files

## State Variables

```yaml
# Input Processing
user_input: ""
normalized_question: ""
has_direct_question: false
keywords: []

# FAQ Matching
faq_match_found: false
matched_faq_entry: null
matched_prompt: ""
confidence_score: 0.0

# Knowledge Base Search
kb_search_completed: false
kb_search_success: false
relevant_artifacts: []

# Answer Generation
answer_generated: false
answer_source: "faq_prompt|kb_synthesis|none"
answer_text: ""
source_files: []

# Error Handling
artifacts_exist: false
need_onboarding: false
```

## Configuration

### Matching Thresholds
- **FAQ Match Threshold**: 0.7 (70% confidence)
- **Ambiguous Threshold**: 0.1 (score difference)
- **KB Relevance Threshold**: 0.3 (30% relevance)

### Search Parameters
- **Top N Artifacts**: 3 (maximum artifacts to include)
- **Context Window**: 2 lines (before/after match)
- **Max Sections**: 2 per artifact

## Examples

### Example 1: Direct Question with FAQ Match
```
Input: olaf tell me how to build this project

Execution:
âœ“ Task 1: Parse â†’ "how to build this project"
âœ“ Task 2: Direct question detected
âœ“ Task 3: Matched FAQ (confidence: 0.95)
âœ“ Task 6: Generated answer from build-and-run.md

Output:
# How to Build This Project

Prerequisites:
- Node.js 18+
- npm 9+

Build Steps:
1. Install: npm install
2. Build: npm run build
3. Test: npm test

---
Source: build-and-run.md
```

### Example 2: No Question â†’ Browse Mode
```
Input: olaf tell me

Execution:
âœ“ Task 1: Parse â†’ "" (empty)
âœ“ Task 2: No direct question
âœ“ Task 4: Present options

Output:
I can answer questions about this project:

ğŸ“š For Developers:
â€¢ How do I build this project locally?
â€¢ How do I run the application?
...

ğŸ—ï¸ For Architects:
â€¢ What architectural pattern is used?
...
```

### Example 3: Novel Question â†’ KB Search
```
Input: olaf tell me about database migrations

Execution:
âœ“ Task 1: Parse â†’ "about database migrations"
âœ“ Task 2: Direct question (topic request)
âœ“ Task 3: No FAQ match (confidence: 0.42)
âœ“ Task 5: KB search found relevant content
âœ“ Task 6: Synthesized answer

Output:
# Database Migrations

From database-design.md:
[relevant content]

From deployment-guide.md:
[relevant content]

---
Sources: database-design.md (78%), deployment-guide.md (45%)
```

## Error Handling

### No Artifacts Exist
```markdown
âš ï¸ Onboarding Required

I don't have documentation for this project yet.

Run: olaf onboard me
```

### Ambiguous Question
```markdown
I found multiple matches:
1. How do I build this project locally?
2. How do I deploy this application?

Which one do you mean?
```

### No Match Found
```markdown
I couldn't find information about "{question}"

Try:
1. Rephrasing your question
2. Browsing FAQ (type: tell me)
3. Running: olaf onboard me
```

## Integration Points

### With Onboard-Me Skill
- **Dependency**: Requires onboard-me to generate artifacts first
- **Artifact Location**: `.olaf/data/product/{repo-name}/kb/`
- **Prompt Reuse**: Uses same 29 analysis prompts from onboard competency
- **On-Demand Generation**: Can execute prompts to generate missing artifacts

### With Onboard Competency
- **FAQ Index**: Copied from `olaf-core/competencies/onboard/kb/faq-index.md`
- **Prompts**: References `olaf-core/competencies/onboard/prompts/*.md`
- **Artifact Spec**: Copied from onboard-me `kb/documentation-artifacts.md`

## Files Structure

```
~/skills/tell-me/
â”œâ”€â”€ skill-manifest.json          # Skill metadata and task chain definition
â”œâ”€â”€ prompts/
â”‚   â””â”€â”€ tell-me.md              # Master coordinator prompt
â”œâ”€â”€ tasks/
â”‚   â”œâ”€â”€ parse-user-question.md
â”‚   â”œâ”€â”€ check-direct-question.md
â”‚   â”œâ”€â”€ match-faq.md
â”‚   â”œâ”€â”€ present-options.md
â”‚   â”œâ”€â”€ search-knowledge-base.md
â”‚   â””â”€â”€ generate-answer.md
â””â”€â”€ kb/
    â”œâ”€â”€ faq-index.md            # 60 questions mapped to prompts
    â””â”€â”€ documentation-artifacts.md  # 21 artifact specifications
```

## Future Enhancements

### Planned Features
- [ ] Conversation history tracking
- [ ] Follow-up question detection
- [ ] Personalized question suggestions based on role
- [ ] Multi-repo workspace support
- [ ] Cached answer storage
- [ ] Answer rating and feedback
- [ ] Auto-refresh when code changes

### Advanced Capabilities
- [ ] Natural language understanding improvements
- [ ] Cross-artifact relationship mapping
- [ ] Proactive question suggestions
- [ ] Integration with IDE hover tooltips
- [ ] Voice input support

## Troubleshooting

### Issue: "No artifacts found"
**Solution**: Run `olaf onboard me` first to generate documentation

### Issue: "Low confidence match"
**Solution**: Try more specific wording or browse FAQ for exact questions

### Issue: "KB search returns no results"
**Solution**: Check if topic is covered in FAQ index, may need custom documentation

### Issue: "Generated answer incomplete"
**Solution**: Source code may lack necessary information, consider manual documentation

## Contributing

When adding new FAQ entries:
1. Update `kb/faq-index.md` with new question
2. Link to existing or new prompt file
3. Specify documentation artifact name
4. Add gap check indicators
5. Test matching with sample questions

## License

Part of OLAF Framework - See main LICENSE file
